# Content Locations
* XML files for editions and descriptions: `/XSLT/xml/`
    * DO NOT manually update the files in `/public/xml/`; they are automatically generated by rake commands.
* XSLT files for displaying editions and descriptions: `/XSLT/`
    * (This directory also contains two XML files providing manifests for edition and description XML files; I believe `SJEADescrListforHTML.xml` and `SJEAListforHTML.xml` should be updated to add new witnesses.)
* HTML content (home pages and layouts): `/public/`
    * Page layouts and wrappers -- one per tab.
        * `index.html`: Content for site homepage; also provides layout and wrappers for all home pages (The Poem, About, How to Use, Partners and Acknowledgments, Terms and Conditions).
        * `manuscript.html`: Landing page for manuscripts view; also provides layout for manuscript transcription/description pages.
        * `search.html`: Search page. It doesn't appear likely that this file provides the layout for search results, but I can't currently confirm one way or the other.
        * `comparison.html`: Provides layout and wrappers for comparison content. No default content since selecting the tab defaults to the first line.
        * **NOTE:** To update the page interface (tabs, footer, etc.), it appears to be necessary to modify all four of these files. Please note that I'm a Rails newbie, and it's possible that they're generated from a template so that the basic site framing, headers, etc. can be updated separately and the changes reflected in each of these files. However, my early searches suggest that content in `/public/` is static, and I haven't found facilities for generating pages apart from the search results. In any case, updating these files will work, and it's the way recent changes have been made.
    * Content for subpages under Home: `about.html`, `partners.html`, `terms.html`, `thepoem.html`, `use.html`
        * These aren't full HTML files, but fragments that will be slotted into the framework provided by `index.html` when requested.
* Images: `/public/images/`
    * Flat structure containing site UI, partner logos, detail images referenced in intros, and thumbnails and full-sized images for each MS page.
    * DOES NOT contain Zoomify assets, which are stored outside the repo.
    * When adding new images, make note of existing naming conventions.
        * All lowercase except for MS sigils.
        * MS images in the form `M0001r.jpg` and `M001r-thumbnail.jpg`.
            * Upload the large image only; generate thumbnails by running `rake sjea:regenthumbs`. This *cannot* be done on the server, as it requires the sips command, which ships with MacOS. Regenerate the thumbnails working locally on a Mac, and make sure the contents of `/public/images` are committed to GitHub.
        * Partner logos are prefaced by `partnerlogo_[top/btm]_`. The meaning of top/btm is a bit opaque; it seems most likely to refer to which row the logo should be on, but in current site configuration, division into rows is based on screen size.
    * There are images in `/XSLT/images/`, but they do not appear to be processed by `sjea:regenthumbs`, and I am not currently aware of any specific purpose they serve.
    * **To add images to introductions:**
        * Images that are to be featured in popups, particularly detail images from introductions, should be placed in `/public/images/` like other images, but an additional step is required to make them appear.
        * Once the image is placed in the proper directory, update `/public/stylesheets/sjea-manuscripts.css`, adding the image as a background image. At the time of writing, the images are all specified at the end of the file, organized in alphabetical order.
        * The image entries are constructed as follows:

            ```
            #[image filename without extension] {
              background-image: url(/images/[image filename].jpg);
              width: [width in pixels]px;
              height: [height in pixels]px;
            }
            ```

* CSS Stylesheets:
    * Manuscripts stylesheet (`manuscript.css`): `/XSLT/stylesheets/manuscript.css`
        * On regeneration of content with `rake`, this CSS file is copied to `/public/stylesheets/`, where it is served. Changes should be made in the XSLT directory and then propagated to the live site with `rake sjea:regencontent`.
    * Site chrome: `/public/stylesheets/`
        * **Do not** edit the version of `manuscript.css` found in this directory; that should be edited in the `/XSLT/stylesheets/` directory as above.
        * `sjea-manuscripts.css` contains entities for the popup images appearing in introductions, as described above in *Images*.
* Javascript: `/public/javascripts/`
    * Contains both libraries and custom JS.
